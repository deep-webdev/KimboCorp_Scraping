<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/datetime/1.1.0/css/dataTables.dateTime.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>

    <script>
        $(document).ready(function () {
            var table = $('#example').DataTable();
         
            $('a.toggle-vis').on('click', function (e) {
                e.preventDefault();
         
                // Get the column API object
                var column = table.column($(this).attr('data-column'));
         
                // Toggle the visibility
                column.visible(!column.visible());
            });
        });    </script>
</head>

<body>
    <div>
        Toggle column: <a class="toggle-vis" data-column="0">Product Name</a> - <a class="toggle-vis" data-column="1">Price</a> - <a class="toggle-vis" data-column="2">Crypto Price</a> - <a class="toggle-vis" data-column="3">CC/PayPal Price</a> - <a class="toggle-vis" data-column="4">Weight</a> - <a class="toggle-vis" data-column="5">Salary</a>
    </div>

    <table id="example" class="table" style="width:100%">
        <thead class="thead-dark">
            <tr>
                <th>Product Name</th>
                <th>Price</th>
                <th>Crypto Price</th>
                <th>CC/PayPal Price</th>
                <th>Weight</th>
                <th>Product Id</th>
                <th>Metal Content</th>
                <th>Purity</th>
                <th>Manufacture</th>
                <th>Product URL</th>
                <th>Supplier name</th>
                <th>Supplier Country</th>

            </tr>
        </thead>
        <tbody>

            {% for i in data %}
            <tr>
                 <td> {{ i.product_name }} </td>
                 <td> {{ i.price_usd }} </td>
                 <td> {{ i.crypto_price }} </td>
                 <td> {{ i.paypal_price }} </td>
                 <td> {{ i.weight }} </td>
                 <td> {{ i.product_id }} </td>
                 <td> {{ i.metal_content }} </td>
                 <td> {{ i.purity }} </td>
                 <td> {{ i.manufacture }} </td>
                 <td> {{ i.product_url }} </td>
                 <td> {{ i.supplier_name }} </td>
                 <td> {{ i.supplier_country }} </td>

            </tr>
     {% endfor %}

            
        </tbody>
        <tfoot>
            <tr>
                <th>Product Name</th>
                <th>Price</th>
                <th>Crypto Price</th>
                <th>CC/PayPal Price</th>
                <th>Weight</th>
                <th>Product Id</th>
                <th>Metal Content</th>
                <th>Purity</th>
                <th>Manufacture</th>
                <th>Product URL</th>
                <th>Supplier name</th>
                <th>Supplier Country</th>
            </tr>
        </tfoot>
    </table>

</body>
</html>
